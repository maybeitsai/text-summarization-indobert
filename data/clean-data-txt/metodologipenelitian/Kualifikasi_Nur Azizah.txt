3.1. Tahapan Penelitian
Penelitian ini berusaha mengembangkan model diagnosis Smear Negative Pulmonary Tuberculosis dengan metode Deep Learning menggunakan algoritma Faster R-CNN sebagai solusi dari masalah dan kekurangan dari teknik yang pernah dilakukan peneliti terdahulu yang dapat menghasilkan sebuah model diagnosis awal dan diagnosis akhir bagi pasien TB Negatif dengan menghasilkan tingkat akurasi tinggi. Rencana penelitian mencoba menggabungkan untuk mengembangkan deep learning dan mengembangkan metode yang dapat mengoptimalkan tingkat akurasi diagnosis.

3.1.1. Pengumpulan Dataset
Data yang yang dipakai dalam studi ini diambil dari dua sumber terbuka terdiri dari dataTuberculosis melalui laman https://www.kaggle.com/tawsifurrahman/tuberculosis-tb-chest-xray-dataset dan data normal yang dapat diakses melalui https://www.kaggle.com/paultimothymooney/chest-xray-pneumonia Dari dua sumber ini, kami kemudian memformulasikan dataset gabungan dengan dua kelas yaitu Tuberculosis dan Normal yang masing-masing memiliki jumlah data latih 48 citra dan data validasi masing-masing 15 citra. Sedangkan untuk data uji, kelas Tuberculosis sebanyak 42 citra dan kelas normal sebanyak 234 citra.

3.1.2. Sistem yang dibagun
Setelah mengumpulkan dataset, langkah selanjutnya adalah membangun sistem untuk pelatihan dan mengevaluasi jaringan yang dibuat. Pada penelitian ini, kami menggunakan metode transfer learning, yang melakukan proses latih dengan menggunakan model yang sudah terlebih dahulu dilatih menggunakan dataset lain. Untuk kasus ini, kami menggunakan model ResNet yang sudah terlebih dahulu dilatih menggunakan ImagetNet dataset (Deng, dkk, 2009). Diagram alir dari sistem yang kami bangun dapat dilihat di Gambar 3.
Berikut adalah langkah-langkah yang dilakukan dalam penelitian ini:

3.1.3. Evaluasi
Metriks yang digunakan untuk mengevaluasi model adalah akurasi, precision, recall dan F1-score. Untuk memahami metriks yang digunakan, sebelumnya akan didefinisikan terlebih dahulu true positive (TP), false positive (FP), false negative (FN) dan true negative (TN) seperti yang ditunjukkan pada confusion matrix Tabel 1. TP didefiniskan sebagai data positif yang diprediksi sebagai positif dan TN didefinisikan sebagai data negatif yang di prediksi sebagai negatif. Sedangkan FN merupakan kebalikan dari TP yaitu data positif yang diprediksi sebagai negative dan FP, kebalikan dari TN, yaitu data negatif yang diprediksi positif.
Akurasi didefinisikan sebagai perbandingan jumlah data yang diprediksi secara benar terhadap total jumlah data. Precision menggambarkan perbandingan tp terhadap total data yang diprediksi positif. Recall didefinisikan sebagai perbandingan tp terhadap total data positif. Sedangkan F1 score adalah rataan harmonic antara precision dan recall. Persamaan 2, 3, 4, dan 5 merupakan rumus untuk precision, recall, Fl-score, dan akurasi.