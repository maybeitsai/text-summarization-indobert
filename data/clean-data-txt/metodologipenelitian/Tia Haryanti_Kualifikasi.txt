3.1 kerangka umum penelitian ini bertujuan untuk mengembangkan sistem deteksi dini kantuk sebelum berkendara dengan menggunakan kombinasi data visual berupa data citra wajah dan data fisiologis. kondisi predriving mengacu pada kondisi sebelum pengemudi memulai perjalanan sehingga sistem ini sangat penting untuk mencegah risiko kecelakaan di jalan . sistem ini mengintegrasikan teknologi pengenalan wajah dan analisis data fisiologis untuk memberikan deteksi yang lebih akurat. blok d iagram secara umum yang digunakan pada penelitian ini dapat dilihat pada gambar 3.1 blok diagram. objek preprocessing data fisiologis ekstrasi fiturpenggabungan fitur klasifikasi data image data visual kantuk ya tidak gambar 3.1 blok diagram model ini terdiri dari tiga tahapan yaitu input proses dan output . penelitian deteksi dini kantuk untuk kondisi predriving menggabungkan data visual yaitu pengumpulan data citra wajah pengemudi yang diambil menggunakan kamera serta data fisiologis yang diukur berupa data ekg menggunakan perangkat wearable yaitu smartwatch dan pulse oximeter untuk mengukur saturasi oksigen spo2 . tahapan preprocessing dan ekstraksi fitur dilakukan pada kedua jenis data yaitu data citra gambar dan data fisiologis. model convolutional neural network cnn digunakan untuk mengekst raksi fitur dari data citra wajah yang merupakan data visual sementara long short term memory lstm digunakan untuk memproses data fisiologis yang bersifat timeseries. fitur fitur yang diekstraksi dari kedua model ini digabungkan untuk menghasilkan vect or fitur gabungan. vektor fitur ini kemudian digunakan sebagai input untuk model support vector machine 43 svm yang melakukan klasifikasi akhir untuk mendeteksi kantuk. hasil deteksi kemudian digunakan untuk memberikan peringatan kepada pengemudi layak tidak nya pengemudi untuk berkendara. 3.2 tahapan peneletian tahapan penelitian merupakan urutan atau langkah langkah yang dilakukan secara terstruktur dan sistematis pada penelitian ini secara garis besar terbagi menjadi empat tahapan. berikut adalah gambar 3.2 tahapan penelitian yang dilakukan pada penelitian ini. pengumpulan data data visualdata fisiologis pemilihan dan persiapan dataset preprocessing data pembuatan modelekstraksi fitur penggabungan fitur evaluasi pemisahan dataset pembangunan model pelatihan model evaluasi model implementasi gambar 3. 2 tahapan penelitian 44 3.3. pemilihan dan persiapan dataset tahapan ini merupakan tahapan identifikasi awal dari penelitian meliputi identifikasi masalah penelitian yang berfokus pada masalah utama yaitu mendeteksi kantuk pada pengemudi menggunakan pemrosesan citra dan fisiologis . tahapan ini dilakukan untuk memasikan bahwa hanya data yang relevan berkualitas tinggi dan siap untuk dip roses lebih lanjut yang digunakan. pemilihan dataset memastikan bahwa dataset yang dikumpulkan relevan dengan tujuan penelitian yaitu hanya menggunakan data yang berkaitan dengan kondisi predriving serta memastikan bahwa data visual dan data fisiologis diambil pada waktu yang sama. tahapan pengumpulan data dan preprocessing data merupakan tahap awal untuk mempersiapkan dataset yang akan digunakan. 3.3.1 pengumpulan data data dibagi menjadi dua kategori utama yaitu data primer dan data sekunder . data primer diperoleh berdasarkan pengumpulan dan pengamatan langsung oleh peneliti berdasarkan kondisi subjek penelitian dan rekaman aktivitas fisik atau ekspresi wajah menggunakan kamera serta pengukuran fisiologis yang menggunakan perangkat wearable . data primer ini berupa data objektif dengan mengumpulkan data citra wajah dan pengukuran fisiologis . berikut merupakan gambar 3. 3 pengumpulan data. matapengumpulan data data visual citra wajahdata fisiologis ekgsaturasi oksigen spo2kamera smartwatch pulse oximetry gambar 3 .3 pengumpulan data dataset visual berupa citra wajah yang berfokus pada wajah pengemudi yang diambil menggunakan kamera dengan spesifikasi 12 mp. data visual dan fisiologis berupa data yang diambil dari partisipan dalam kondisi terjaga dan mengantuk . data fisiologis mencakup pengukuran langsung dari respons tubuh berupa sinyal 45 ekg elektrokardiogram yang merekam detak jantung hr variabilitas detak jantung atau heart rate variability hrv menggunakan perangkat wearable dan pengukuran saturasi oksigen dalam darah spo2 yang diukur menggunakan pulse oximeter. 3.3.2 preprocessing data melakukan analisis eksploratif data untuk memahami karakteristik dataset sehingga meningkatkan kualitas deteksi . preprocessing yang dilakukan yaitu pre processing citra dan preprocessing data fisiologis. preprocessing citra yaitu dengan mendeteksi wajah dan mata normalisasi pencahayaan pemotongan area wajah yang relevan. ektraksi frame dari video menggunakan opencv . pre processing data fisiologis yaitu dengan normalisasi data dan segmentasi. berikut merupakan gambar 3. 4 preprocessing data. data acquisitionfacial landmark detectionroi extraction gambar dari kameraeye detection data fisiologis ekg spo2 noise removal normalizationsave processed datasegmentationresize imagesnormalize pixel value data augmentation gambar 3. 4 preprocessing data data set yang dikumpulkan kemudian diolah yang meliputi normalisasi penghilangan noise dan teknik pra pemrosesan lainnya untuk membuat data siap digunakan dalam ekstraksi fitur. langkah ini melibatkan pembersihan dan penyiapan data untuk analisis. proses preprocessing untuk data visual atau data gambar yaitu 1. pengumpulan data visual dengan mengambil gambar wajah pengemudi menggunakan kamera berfo kus pada mata. 2. deteksi wajah dan deteksi mata menggunakan algoritma deteksi wajah seperti haar cascades atau dlib untuk mendetekasi dan melokalisasi wajah dalam gambar. 3. deteksi mata yaitu mendeteksi mata daam area wajah yang terdeteksi. 46 4. ekstraksi roi region of interest dengan mengambil area mata dari gambar. 5. teknik normalisasi untuk mengubah ukuran gambar mata menjadi dimensi yang konsisten missal nya 64x64 pixel serta menormalisasi nilai pixel gambar dalam rentang 0 1 atau 1 1. 6. augmentasi gambar dilakukan untuk meningkatkan variasi data seperti rotasi flipping horizontal atau vertikal zooming dan perubahan cahaya 7. penyimpanan data yang diproses dengan menyimpan gambar yang telah diproses dan fitur yang diekstraski dalam format terstruktur csv atau database . proses preprocessing untuk data fisiologis yaitu 1. pengumpulan data fisiologis menggunakan wearable untuk merekam detak jantung hr variabilitas detak jantung hrv dan saturasi oksigen spo2. 2. pembersihan data dengan menghilangkan noise dengan menggunakan teknik filtering dan imputasi data hilang dengan mengisi data yang hilang menggunakan metode seperti mean median atau interpolasi. 3. normalisasi data dengan min max sehingga menyesuaikan denga n skala data ke rentang yang konsisten 0 1. 4. segmentasi data dilakukan dengan membagi data menjadi segmen dengan ukuran waktu tetap yaitu 30 detik. 5. normalisasi data untuk memastikan konsistensi skala antar subjek dan pengukuran. 6. penyimpanan data yang d iproses yaitu data fisiologis dalam format terstruktur. langkah selanjutnya yaitu sinkronisasi data dengan menggabungkan data visual serta data fisiologis berdasarkan timestamp. selanjutnya memastikan bahwa data visual dan fisiologis yang telah disinkronk an mencerminkan kondisi yang sama pada waktu yang sama. selanjutnya yaitu menyimpan data yang telah disinkronkan dalam format yang mudah diakses untuk dianalisis lebih lanjut. 3.4. pembuatan model pembuatan model merupakan proses implementasi dari desain arsitektur yang telah direncanakan . langkah dari pembuatan model yaitu penulisan kode untuk membangun model sesuai dengan desain arsitektur yaitu cnn lstm dan svm. 47 selanjutnya mengonfigurasi model dengan optimizer fungsi loss dan metrik evaluasi. kemu dian melakukan pelatihan model menggunakan dataset yang telah dibagi menjadi training set dan validation set pada tahapan preprocessing . selanjutnya dilakukan validasi serta tuning hyperparameters untuk mengoptimalkan kinerja model. 3.4.1 ekstraksi fitur ekstraksi fitur dilakukan untuk menangkap karakteristik penting dari data yang telah diproses. fitur ini akan digunakan sebagai input untuk model pembelajaran mesin. ektraksi fitur dilakukan pada data visual berupa data gambar dan data fisiologis. 1. data v isual a. eye aspect ratio ear digunakan untuk mendeteksi apakah mata terbuka atau tertutup. di mana pi adalah titik titik landmark mata. b. pupil dilation digunakan untuk mengukur perubahan ukuran pupil. c. redness of eyes mengukur tingkat kemerahan pada ma ta. d. eye openess mengukur bukaan mata berdasarkan jarak vertikal antara kelopak mata atas dan bawah. 2. data fisiologis a. heart rate hr mengukur detak jantung per menit. b. heart rate variability hrv mengukur variabilitas detak jantung. c. respiratory rate rr mengukur laju pernapasan. d. spo2 saturasi oksigen dalam darah ekstraksi fitur dengan convolutional neural network cnn adalah proses yang menggunakan lapisan konvolusi dan pooling untuk menangkap fitur penting dari data gambar. langkah langkah ekstraksi fitur dengan cnn 1. convolutional layer menggunakan filter untuk menangkap fitur spasial dari gambar. 48 2. pooling layer mengurangi dimensi peta fitur sambil mempertahankan fitur penting. 3. fully connected layer menghubungkan peta fitur yang telah diratakan untuk melakukan klasifikasi atau ekstraksi fitur. 4. pelatihan model menyesuaikan bobot filter melalui backpropagation dengan data latih. 5. ekstraksi fitur menggunakan model yang telah dilatih untuk mengekstraksi fitur dari gambar baru. ekstraksi fitur dengan long short term memory lstm adalah proses yang menggunakan jaringan lstm untuk menangkap pola temporal dan hubungan jangka panjang dalam data sekuensial seperti data fisiologis ekg hr hrv rr dan spo2. lstm sangat efektif dal am menangani data yang memiliki ketergantungan waktu. ekstraksi fitur dengan lstm melibatkan beberapa langkah penting 1. menyiapkan data menyiapkan data sekuensial dalam bentuk yang sesuai untuk input ke lstm. 2. membangun model lstm membangun model lstm dengan lapisan lstm dan dense untuk ekstraksi fitur. 3. melatih model lstm melatih model menggunakan data sekuensial untuk menyesuaikan bobot jaringan. 4. ekstraksi fitur menggunakan model yang telah dilatih untuk mengekstraksi fitur dari data seku ensial baru. 3.4.2 penggabungan fitur fitur fitur yang telah diekstraksi dari ekstraksi fitur dengan model cnn yaitu dari gambar visul dengan mengekstraksi bagian mata dan ektraksi fitur dari data sekuensial dengan menggunakan lstm berupa data fisiologis . selanju tnya penggabungan fitur visual dan fitur sekuensial menggunakan metode penggabungan concatenation digabungkan membentuk satu set fitur komprehensif yang akan digunakan untuk pelatihan model yaitu klasifikasi akhir menggunakan model sv m. 49 3.4.3 pemisahan dataset pembagian dataset merupakan langkah penting dalam proses pelatihan dan evaluasi model. merujuk pada penelitian li k. gong y. ren z. 2020 untuk pembagian dataset dibagi menjadi tiga bagian yaitu training set 40 validation set 10 dan test set 50 namun pada penelitian ini pembagian dataset yang terdiri dari data gambar dan data fisiologis dibagi menjadi berikut 1. training set 75 data yang digunakan untuk melatih melatih model . 2. validation set 15 digu nakan untuk tuning hyperparameters dan memilih model terbaik . 3. test set 15 digunakan untuk mengevaluasi kinerja akhir model . 3.4.4 desain arsitektur desain a rsitektur merupakan proses menentukan struktur dan komponen model yang akan dibangun yang terdiri dari jenis model jumlah dan jenis layer fungsi aktivasi teknik regularisasi dan konfigurasi model. jenis model penelitian ini melibatkan dua model utama yaitu convolutional neural network cnn untuk data visual dan long short term memory lstm untuk data fisiologis. hasil dari kedua model digabungkan dan diklasifikasikan menggunakan support vector machine svm. model ini terdiri dari tiga tahapan yaitu akuisisi data pre processing data ekstraksi fitur penggabungan fitur dan klasifikasi dengan svm dan output sistem . berikut merupakan gambar 3. 5 arsitektur model. ear pupil dilation redness of eyes eye openesspreprocessing alignmentmata akuisisi databehavioral fisiologis ekstraksi fiturklasifikasidriver mengantuk alarm atau notifikasi tidak layak alarm atau notifikasi layak yatidak perangkat sensor wearablemembaca hrv hr dan spo2object cnn lstmpenggabungan fitur ekstraksi gambar 3. 5 arsitektur model tahap ini mencakup perancangan arsitektur cnn yang akan digunakan termasuk pemilihan jumlah dan jenis layer fungsi aktivasi dan teknik regularisasi. 50 digunakan untuk mengolah data visual seperti mengenali mata tertutup atau mulut menguap sebagai indikator kantuk. lstm digunakan untuk menga nalisis data fisiologis yang berurutan seperti pola detak jantung yang m enunjukkan kelelahan atau penurunan kewaspadaan. menggabungkan fitur yang diekstrak dari cnn dan lstm untuk mendapatkan representasi data yang komprehensif memastikan bahwa model dapat mengidentifikasi kantuk berdasarkan kombinasi indikator visual dan fis iologis. selanjutnya yaitu menggunakan support vector machines svm untuk mengklasifikasikan data sebagai kantuk atau tidak kantuk. svm dipilih karena kemampuannya dalam mengklasifikasikan data yang kompleks dan memberikan batas keputusan yang jelas layak atau tidak layak pengemudi untuk berkendara. jika pengklasifikasi mendeteksi keadaan mengantuk maka pengklasifikasi menghasilkan alarm atau notifikasi pemberitahuan untuk memberi tahu bahwa pengemudi tidak layak untuk berkendara atau kembali ke f ase pertama dan memulai ulang prosedur. 3.4.5 pelatihan model dengan dataset pelatihan m odel dilakukan dengan menggunakan training set dengan tuning hyperparamaters berdasarkan kinerja pada validation set. pelatihan model dilakukan dengan model svm menggunakan training set. 3.5 evaluasi model gabungan ini dievaluasi menggunakan metrik seperti akurasi presisi recall dan f1score untuk memastikan performa dan keandalannya. implementasi sistem ini diharapkan dapat memberikan notifikasi atau peringatan kepada pengemudi jika tanda tanda kantuk terdeteksi selama kondisi predriving sehingga dapat meningkatkan keselamatan berkendara secara signifikan. berdasarkan hasil validasi model dapat ditune atau dioptimalkan untuk meningkatkan performa misalnya dengan mengubah arsitektur parameter atau teknik training . 3.6 implementasi setelah penyempurnaan model dianggap siap untuk digunakan. model ini harus dapat secara akurat mendeteksi kantuk pengemudi dalam berbagai kondisi dengan minimal kesalahan. langkah selanjutnya yaitu penerapan model dalam sistem nyata dan pemantauan efektivitasnya dalam kondisi pengemudi pada 51 lingkungan predriving. model yang telah dioptimalkan diintegrasikan ke dalam sistem deteksi dini kantuk untuk pengujian awal. selanjutn ya yaitu m elakukan uji coba lapangan untuk mengevaluasi efektivitas sistem dalam kondisi nyata memungkinkan pengumpulan feedback untuk perbaikan lebih lanjut. 3.7 rencana kegiatan tabel 3.1 rencana kegiatan no nama kegiatan bulan 1 2 3 4 5 6 7 8 9 10 11 12 1 kajian literatur 2 perencanaan penelitian 3. pengumpulan data 4. prapemrosesan data 5. pembuatan model 6. pelatihan dan evaluasi model 7. penyusunan laporan akhir 8. presentasi laporan akhir 9. publikasi jurnal ilmiah internasional 10. pengajuan hki