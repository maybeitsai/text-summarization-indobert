judul
pengembangan model klasifikasi morphological neural network untuk sistem pengenalan ekspresi wajah

latarbelakang
penelitian tentang robot cerdas terus meningkat dari tahun ke tahun mukherjee gupta chang najjaran 2022 . robot cerdas merupakan robot yang dapat melakukan tugas dengan berintaksi dengan linkungan sekitarnya . pada umumnya robot cerdas dikembangkan untuk bidang industri garcia jimenez de santos armada 2007 . salah satu contoh robot cerdas yang digunakan pada bidang industri adalah welding robot . welding robot merupakan robot yang dapat melakukan proses pengelasan pada sebuah objek tanpa campur tangan manusia coman rontescu bogatu cicic 2021 . namun selain robot dalam bidang industri penelitian tentang robot cerdas bidang sosial menjadi salah satu penelitian terbanyak dalam beberapa tahun terakhir johal 2020 . robot sosial merupakan robot yang didisain untuk berinteraksi dengan manusia rawal stock homburg 2022 retto 2017 . robot sosial tersebut didisain agar dapat berinteraksi layaknya seperti manusia di mana robot harus memiliki kemampuan berkomunikasi dalam bahasa tingkat tinggi hegel muhl wrede fastabend sagerer 2009 . salah satu contoh robot sosial adalah sophia sophia merupakan robot yang manusia dan dapat melakukan percakapan dengan manusia dalam bahasa tingkat tinggi mengenal wajah seseorang dan mengeluarkan ekspresi dan namun tidak memiliki kemampuan untuk mengenal ekspresi wajah seseorang retto 2017 . ekspresi wajah merupakan salah satu komponen penting agar robot dapat berkomunikasi sesuai dengan keadaan frith 2009 . selain bidang robotika ekspresi wajah juga berperan penting dalam bidang psikologi di mana emosi seseorang dapat mempengaruhi pengambilan keputusan seseorang george dane 2016 berdasarkan penelitian rawal stock homburg 2022 55 informasi afektif didapatkan melalui ekspresi wajah . 4 artificial intelligence ai adalah bidang yang digunakan agar mesin dapat berpikir dan mengambil keputusan layaknya seperti manusia khanzode 2020 . ai merupakan bidang yang sangat luas didalam ai terdapat machine learning ml di mana ml memungkinkan untuk mesin untuk belajar dari data yang diberikan serta berpikir dan mengambil keputusan awad khanna 2015 khanzode 2020 . walaupun demikian performa dari ml sangat bergantung pada proses ekstrasi fitur alzubaidi zhang humaidi aldujaili duan alshamma 2021 shinde shah 2018 . oleh karena itu terdapat pembelajaran yang lebih dalam dari ml yaitu deep learning dl . dl memungkinkan mesin tidak hanya belajar berpikir dan mengambil keputusan namun dapat memilih data mana yang penting dan yang tidak penting dalam mengambil keputusan sehingga membuat mesin tidak terlalu terpengaruh oleh noise data tidak penting janiesch zschech heinrich 2021 . banyak penelitian yang memanfaatkan ml dan dl untuk mengenal ekspresi wajah . secara garis besar penelitian penelitian tersebut menggunakan model support vector mach ine svm dari model ml yang digabung dengan metode ekstrasi fitur atau menggunakan model convolution al neural network cnn dari model dl. pada penelitian shan gong mcowan 2009 digunakan local binary pattern lbp untuk ekstrasi fitur dan svm sebagai model untuk mengenal ekspresi wajah berdasarkan dari hasil ekstrasi fitur lbp. pada penelitian mohammad ali 2011 digunakan local monotonic pattern lmp untuk ekstrasi fitur dan svm. pada penelitian deshmukh patwardhan mahajan 2016 digunakan viola jones algorithm vja untuk deteksi wajah lbp dan svm untuk membuat sistem pengenalan ekspresi wajah secara real time. pada penelitian sawardekar naik 2018 digunakan lbp cnn dan knearest neighbor knn model ml untuk pengenalan ekspresi wajah. pada penelitian turabzadeh meng swash pleva juhar 2018 digunakan lbp dan knn untuk membangun sistem pengenalan ekspresi wajah secara realtime. penelitian eleyan 2023 dilakukan analisis berbagai histogram based feature extraction algorithm dan knn. selain dari model model yang sudah disebutkan di atas terdapat penelitian yang mengembangkan model dl yang memanfaatkan morfologi matematika untuk melakukan ekstrasi fitur yaitu morphological neural network 5 mnn . hasil penelitian shen zhong shih 2022 menunjukkan bahwa mnn memiliki performa yang setara dengan cnn namun dengan kompleksitas yang rendah. secara garis besar model cnn dan mnn memiliki arstektur yang mirip perbedaan dari kedua model tersebut adalah cnn menggunakan konvolusi untuk ekstrasi fitur sedangkan mnn menggunakan morfologi untuk ekstrasi fitur kedua model kemudian menghubungkan lapisan ekstrasi fitur ke ful ly connected layer fclayer yang dapat dikatan seb uah artificial neural network ann untuk melakukan klasifikasi objek . jenis morfologi yang digunakan untuk model mnn pada penelitian shen et al. 2019 adalah opening dengan structure element se yang digunakan adalah disk. se merupakan komponen penting dalam operasi morfologi. se digunakan untuk penentuan pengambilan nilai dalam sebuah area pada citra . hasil dari operasi morfologi opening tidak mengekstrasi fitur secara utuh . berdasarkan uraian diatas maka dalam penelitian ini diusulkan pengembangan model klasi fikasi morphological neural network untuk sistem pengenalan ekspresi wajah . dalam penelitian ini diusulkan metode ekstrasi fitur menggunakan operasi morfologi yang meminimalisir hilangnya fitur akibat operasi. operasi yang diusulkan kemudian dikembangkan menjadi sebuah model mnn yang dapat mengekstrasi dan juga mengenali ekspresi wajah manusia. selain itu penelitian ini juga melakukan pengenalan ekspresi wajah menggunakan model svm dan cnn. svm terdapat metode tambahan yang digunakan untuk meng ekstrasi fitur ekspresi wajah . dalam penelitian ini model model tersebut mnn svm dan cnn akan dilatih menggunakan dataset gabungan baik dataset primer maupun sekunder. pengenalan ekspresi wajah menggunakan model svm dan cnn juga merupakan lanjutan dari penelitian robert 2023 di mana pada penelitian tersebut terdapat kekurangan yang dapat dilakukan dalam penelitian ini seperti keterbatasan dataset dan kurangnya variasi etnis.

rumusanmasalah
penelitian berdasarkan dari uraian latar belakang masalah dan usulan topik penelitian diatas terdapat beberapa masalah penelitian yang perlu dicari solusinya adalah 1. metode dan algoritma morfologi matematika mana yang paling tepat digunakan untuk mengekstrasi fitur ekspresi wajah. 2. bagaimana membang un model pengenalan ekspresi wajah berdasarkan gabungan usulan morfologi matematika dan jaringan saraf tiruan usulan model mnn . 3. bagaimana membangun prototype sistem pengenalan ekspresi wajah mengunakan usulan model mnn .

tujuanpenelitian
tujuan dari penelitian ini adalah 1. menghasilkan metode dan algoritma ekstrasi fitur ekspresi wajah berbasis morfologi matematika. 2. menghasilkan model klasifikasi mnn yang dapat digunakan untuk pengenalan ekspresi wajah . 3. menghasilkan prototype perangkat lunak sistem pengenalan ekspresi wajah .

rangkumanpenelitianterkait
pada tahun 2010 dilakukan penelitian tentang pengenalan enam jenis ekspresi wajah otomatis menggunakan gabor filter dan k nearest neighbor knn ou bai pei ma liu 2010 . pada tahun 2009 dilakukan pembelajaran komprehensif tentang pengenalan ekspresi wajah menggunakan local binary pattern lbp yang digabung adaboost untuk melakukan ekstrasi fitur. hasil dari lbp adaboost digunakan sebagai input model svm yang digunakan untuk mengenali ekspresi wajah shan et al. 2009 . pada tahun 2011 dilakukan pengembangan metode ekstrasi fitur local monotonic pattern lmp untuk pengenalan ekspresi wajah. hasil dari lmp kemudian digunakan sebagai input 46 model svm. pada tahun 2019 dikembangkan sebuah model dl mnn yang memanfaatkan opening dari morfologi matematika untuk mengklasifikasi angka dan rambu lalu lintas shen et al. 2019 . pada tahun 2020 dilakukan penelitian pengenalan ekspresi wajah menggunakan local binary pattern lbp sebagai ekstrasi fitur cnn dan svm sebagai model machine learning ravi yadhukrishna prithviraj 2020 . pada tahun 2023 dilakukan pengenalan ekspresi wajah menggunakan histogram based feature descriptor untuk ekstrasi fitur dan knn sebagai model pengenalan wajah eleyan 2023 . pada tahun yang sama 2023 dilakukan penelitian pembentukan skenario dataset menggunakan lbp local monotonic pattern dan viola jones vja sebagai ekstrasi fitur dan cnn svm sebagai model pengenalan ekspresi wajah. pada tahun ini 2024 akan diajukan penelitian pengembangan model klasifikasi morphological neural network untuk sisitem pengenalan ekspresi wajah .

metodologipenelitian
3.1 alur penelitian gambar 3.1 menunjuk kan metode penelitian. terdapat 5 tahap utama yang akan dilakukan yang pertama adalah studi literatur untuk menyusun bab 1 dan bab 2. tahap kedua adalah pengumpulan citra ekspresi wajah data citra berupa data primer dan data sekunder. tahap ketiga adalah pembentukan dataset untuk tiap model svm cnn dan mnn skenario pembentukan dataset dilakukan berdasarkan pada penelitian robert 2023 . pada tahap keempat dilakukan pembentukan model khusus untuk svm dan cnn menggunakan model pada penelitian robert 2023 sedangkan mnn menggunakan usulan pada penelitian ini. tahap terakhir adalah pelatihan dan pengujian untuk semua model svm cnn mnn terdapat tahap parameter tuning untuk tiap model . kemudian semua performa dari tiap model akan dibandingkan satu sama lain dan juga dianalisis pada bab 4. gambar 3.1. metode penelitian 48 3.2 pengumpulan citra ekspresi wajah citra ekspresi wajah dikumpulkan secara langsung oleh peneliti data primer dan juga menggunakan data yang dikumpulkan oleh peneliti lain data sekunder. terdapat 7 ekspresi wajah yang akan digunakan dalam penelitian ini yaitu marah jijik menghina senang sedih kaget dan netral tanpa ekspresi. gambar 3.2 menunjukkan contoh 7 ekspresi wajah manusia yang digunakan penelitian ini. gambar 3.2. contoh 7 jenis ekspresi wajah dataset primer akan dilakukan pengambilan citra ekspresi wajah mahasiswa universitas gunadarma baik pria maupun wanita. pengambilan akan dilakukan dari beberapa sudut pandang guna menambah variasi dataset . gambar 3.3 menunjukan contoh dataset primer dari berbagai sudut pandang. gambar 3.3. contoh dataset primer 49 dataset sekunder digunakan dataset yang telah digunakan umum oleh peneliti lain terkait pengenalan ekspresi wajah. terdapat beberapa dataset yang umum digunakan dalam penelitian ekspresi wajah . pertama extended cohn kanade ck yang berisi citra ekspresi wajah pria dan wanita dari berbagai etnis dengan resolusi tinggi kanade cohn tian 2000 lucey et al. 2010 . kedua taiwanese facial expression image dataset tfeid yang berisi citra ekspresi wajah pria dan wanita dari etnis taiwan chen yen 2007 . ketiga japanese female facial expression jaffe yang terdiri dari citra ekspresi wajah wanita etnis j epang lyons 2021 lyons kamachi gyoba 2020 . gambar 3.4 menunjukan contoh citra dataset ck a jaffe b dan tfeid c. gambar 3.4. contoh dataset sekunder 50 tabel 3.1 menunjukkan detail dari tiap dataset mulai dari jumlah citra dari tiap kelas serta ruang warna dan ukuran citra. ck memiliki jumlah yang tidak seimbang pada kelas neutral dan memiliki ruang warna campur antara rgb dan gray dengan ukuran citra dikisaran 640 490. jaffe dataset memiliki jumlah citra pada tiap kelas yang seimbang dengan perbedaan diantara 0 hingga 2 citra ukuran citra 256 256 dan ruang warna grayscale . tfeid juga memiliki jumlah citra yang seimbang ditiap kelas ukuran citra diki saran 481 600 ruang warna rgb. tabel 3.1. detail dataset sekunder ekspresi dataset ck dataset jaffe dataset tfeid total anger 45 30 34 109 disgust 59 29 40 128 fear 25 32 40 97 happy 69 31 40 140 neutral 107 30 39 176 sad 28 31 39 98 surprise 83 30 36 149 ukuran citra 640490 256256 481600 warna citra rgb gray gray rgb 51 3.3 pembentukan dataset secara garis besar dalam pembuatan model ai khususnya ml dan dl terdapat proses yang berperan penting yaitu preprocessing dataset seperti ekstrasi fitur penyesuaian ukuran citra dan augmentasi deshmukh et al. 2016 franchi et al. 2020 mohammad ali 2011 ravi et al. 2020 sawardekar naik 2018 shan et al. 2009 . pada penelitian robert 2023 dilakukan sebuah skenario pembentukan dataset menggunakan beberapa metode pengolahan citra seperti konversi warna ke grayscale deteksi wajah dan e kstrasi fitur di mana preprocessing mempengaruhi performa dari model ml dan dl. selain itu pada penelitian alam yao 2019 juga dilakukan penelitian yang serupa di mana preprocessing mempengaruhi performa model machine learning . pada tahap ketiga dilakukan pembentukan dataset . gambar 3.5 menunjukkan alur pembentukan dataset untuk svm . pertama dilakukan pendeteksian wajah menggunakan vja proses ini berguna untuk mengurangi noise pada citra . hasil vja membuat ukuran citra bervariasi oleh karena itu dilakukan resizing citra untuk menyamakan semua ukuran citra dan juga menyesuaikan dengan dimensi input model . selanjutnya dilakukan konversi warna citra dari rgb ke grayscale dikarena fitur warna tidak dibutuhkan dan agar dapat diekstrasi fiturnya menggunakan lmp. terakhir terdapat dua proses ekstrasi fitur berbeda . proses ekstrasi fitur pertama menggunakan lmp robert 2023 . proses ekstrasi fitur kedua adalah usulan dari penelitian ini di mana pertama diaplikasikan gabor filter terlebih dahulu kemudian diekstrasi menggunakan lmp. gambar 3.5. pembentukan dataset untuk svm 52 gambar 3.6 menunjukkan alur pembentukan dataset untuk cnn dan mnn . terdapat 3 proses yang akan dilakukan . pertama dilakukan deteksi wajah menggunakan vja guna mengurangi noise . kemudian dilakukan konversi warna dari rgb ke grayscale karena fitur warna tidak dibutuhkan untuk mengenali ekspresi wajah. t erakhir mengubah ukuran citra untuk menyamakan semua ukuran citra dan sesuai dengan dimensi input model . skema pembentukan dataset ini berdasarkan performa terbaik dari penelitian robert 2023 . gambar 3.6. pembentukan dataset untuk cnn dan mnn dataset yang sudah melalui pembentukan dataset dilakukan augmentasi dari sisi geometris seperti membalikan flipping secara horizontal dan verti kal dan rotasi dari 0 hingga 45 . tujuan dari augmentasi dataset adalah memperbanyak dataset dan juga variasi dataset . dataset yang telah dibentuk kemudian dibagi menjadi dua jenis dataset . jenis pertama adalah training dataset dengan jumlah 90 dari total semua dataset . kedua adalah testing dataset yang terdiri dari 10 dari total semua dataset . gambar 3.7 menunjukkan visualisasi pembagian dataset . svm training dataset digunakan untuk melatih model sedangkan testing dataset digunakan untuk menguji dataset . cnn dan mnn terdapat pembagian lagi pada training di mana 90 dari training dataset digunakan untuk melatih model dan 10 dari training dataset digunakan untuk validasi dan testing dataset digunakan untuk menguji model. proses pembentukan dataset untuk svm cnn dan mnn menggunakan algoritma 3.1 hingga algoritma 3.6. 53 gambar 3.7. visualisasi pembagian dataset 3.3.1 deteksi wajah proses deteksi wajah menggunakan vja vja memanfaatkan dua komponen yaitu integral image dan haar basis function . algoritma 3.1 menunjukkan cara menghitung dari integral image . input merupakan citra dengan ruang warna grayscale dengan nama variab el img dengan ukruan ğ‘¤â„ dan output berupa integral image yang disimpan pada nama variab el itg_img. algoritma integral image cukup sederhana baris 1 dan 2 dilakukan perulangan terhadap baris dan kolom citra yang digunakan untuk menentukan koordinat integral image yang sedang dihitung. b aris ketiga dilakukan perhitungan integral image untuk koordinat ğ‘–ğ‘— yang menghitung total nilai piksel citra asli mulai dari koordinat 00 hingga ğ‘–ğ‘— menggunakan persamaan 2.18. 54 algoritma 3.1. integral image 1 2 3 4 5 input citra grayscale wh img output citra integral wh itg_img for i 0 to w do for j 0 to h do itg_imgij sumimg_gry0i0j end for end for algoritma 3.2 menunjukkan cara kerja dari vja. input dari algoritma 3.2 adalah citra integral dengan ukuran ğ‘¤â„ yang diproses menggunakan algoritma 3.1. terdapat beberapa parameter yang digunakan pada algoritma 3.2. parameter pertama adalah detection window dengan ukuran ğ‘¤2 â„2 yang digunakan untuk perhitungan haar . parameter kedua adalah haar yang menggunakan gambar 2.14. parameter ketiga adalah nilai threshold untuk masing masing haar yang digunakan untuk menentukan apakah haar tersebut merupakan fitur wajah atau bukan. output dari algoritma ini adalah berupa koordinat wajah yang dimulai pada koordinat ğ‘¥1ğ‘¦1 dengan panjang dan lebar yaitu ğ‘¤2â„2. baris pertama dan kedua dilakukan perulangan terhadap baris dan kolom citra yang digunakan untuk menentukan koordinat detction window agar lebih mudah memahami dapat melihat gambar 3.8. setiap perulang an pada baris pertama dan kedua dilakukan komputasi tiap area haar mulai dari jenis haar a hingga d. pada baris 491317 terdapat tiga perhitungan. perhitungan pertama adalah area putih perhitungan kedua adalah area hitam perhitungan ketiga adalah fitur area putih area hitam untuk lebih mudah memahami perhitungan area putih area hitam dan fitur dapat melihat gambar 3.9. setiap perhitungan nilai fitur a hingga fitur d dilakukan pengecekan apakah nilai fitur yang dihitung merupakan fitur atau bukan dengan cara membandingkan nilai fitur dengan threshold masing masing th_a hingga th_d seperti baris 6101418. jika salah satu dari keempat nilai fitur lebih kecil dari threshold yang ditentukan maka haar tersebut bukan merupakan fitur wajah dan algoritma akan melakukan pergeseran detection window ke koordinat selanjutnya. selain itu jika semua nilai fitur lebih besar dari threshold maka detection window tersebut merupakan wajah dan algoritma akan memberikan 55 empat nilai yaitu ğ‘–ğ‘—ğ‘‘ğ‘¤ğ‘‘â„. ğ‘–ğ‘— merupakan koordinat dari deteksi terakhir. ğ‘‘ğ‘¤ğ‘‘â„ merupakan luas dari detection window itu sendiri. algoritma 3.2. algoritma viola jones 1 2 3 4 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 input citra integral wh itg_gry parameter detection window dengan ukuran w2h2 dw haar pada gambar 2.14 a hingga d thershold tha hingga the output koordinat wajah x1y1w2h2 for i 0 to ww2 do for j 0 to hh2 do hitung fitur haar a pada gambar 2.14 hitung fitur_a area putih gambar 2.14 a area hitam gambar 2.14 a untuk detection window iiw2jjh2 if fitur_a th_a do continue hitung fitur haar b pada gambar 2.14 hitung fitur_b area putih gambar 2.14 b area hitam gambar 2.14 b untuk detection window iiw2jjh2 if fitur_b th_b do continue hitung fitur haar c pada gambar 2.14 hitung fitur_c area putih gambar 2.14 c area hitam gambar 2.14 c untuk detection window iiw2jjh2 if fitur_c th_c do continue hitung fitur haar d pada gambar 2.14 hitung fitur_d area putih gambar 2.14 d area hitam gambar 2.14 d untuk detection window iiw2jjh2 if fitur_d th_d do continue return ijdwdh 56 gambar 3.8. pergeseran detection window gambar 3.9. contoh perhitungan haar gambar 3.9 menunjukkan contoh perhitungan untuk fitur a dan b pada algoritma 3.2 baris 4 dan 9. pertama dilakukan perhitungan pada area hitam dan putih . untuk mendapatkan hanya luas ğ· dilakukan pengurangan dengan luas ğµ dan ğ¶ kemudian dilakukan pertambahan luas ğ´. perhitungan dilakukan secara demikian dikarenakan pada integral image luas ğ·ğ´ğµğ¶ğ· luas ğµğ´ğµ dan luas ğ¶ğ´ğ¶. secara teknis pengurangan dengan luas ğ´ dilakukan dua kali 57 dikarenakan luas ğµ dan ğ¶ oleh karena itu dilakukan pertambahan luas ğ´ setelah pengurangan dengan ğµ dan ğ¶. perhitungan luas ğ» memiliki pola yang sama dengan perhitungan luas ğ·. kemudian dilakukan pengurangan antara area putih dengan hitam untuk mendapatkan nilai fitur. fitur kemudian dibandingkan dengan nilai thershold untuk menentukan apakah haar tersebut fitur wajah atau bukan. pola untuk perhitungan area putih area hitam dan fitur untuk haar a b c d memiliki pola yang sama. gambar 3.10 menunjukkan hasil dari implementasi algoritma deteksi wajah pada sebuah citra. a b c gambar 3.10. a citra original b hasil deteksi c hasil cropping 58 3.3.2 image resize proses perubahan ukuran citra menggunakan metode bicubic interpolation . algoritma 3.3 menunjukkan cara kerja dari bicubic interpolation . input berupa citra yang ingin diubah ukurannya dan ra sio skala ukuran yang diinginkan. parameter berupa koefisien a yang dapat mempengaruhi koordinat tetangga umumnya nilai dikisaran 0.75 hingga 0.5. hasil dari algoritma ini adalah citra dengan ukuran ğ»ğ‘Ÿğ‘Šğ‘Ÿğ¶. pada baris 1 dilakukan perhitungan ğ‘‘ğ» ğ‘‘ğ‘Š yang digunakan untuk menentukan ukuran citra setelah diubah ukurannya dan kemudian dilakukan perhitungan â„ yang digunakan untuk konstanta yang akan mempengaruhi koordinat tetangga pada piksel yang akan dihitung . baris 2 dilakukan pembuatan matri ks yang digunakan untuk menyimpan hasil. baris 456 dilakukan perulangan pada channel ğ‘‘ğ» ğ‘‘ğ‘Š matri ks yang dibuat pada baris 2 perulangan ini digunakan untuk menentukan koordinat matri ks hasil yang akan dihitung. baris 6 dan 7 dilakukan perhitungan ğ‘¥ dan ğ‘¦ yang merupakan konstanta yang mempengaruhi koordinat tetangga nilai berubah setiap perulangan berjalan pada baris 3 4 5. baris 8 hingga 15 dilakukan perhitungan ğ‘¥1 hingga ğ‘¥4 dan ğ‘¦1 hingga ğ‘¦4 variab el tersebut digunakan untuk menentukan bobot weight tiap tetangga dan koordinat tetangga pada piksel yang sedang dihitung. b aris 16 dan 17 dilakukan perhitungan menggunakan persamaan 2.19 di mana baris 16 perhitungan untuk bobot horizontal baris 17 untuk bobot vertikal yang masing masing disimpan pada matrix_l dan matrix_r. baris 19 dilakukan pembuatan matri ks berukuran 4 4 yang digunakan untuk menyimpan nilai piksel tetangga. baris 20 hingga 35 merupakan pengambilan nilai tetangga berdasarkan dari perhitungan sebelumnya. baris 36 merupakan perkalian antara matriks tetangga 4 4 dengan bobot horizontal kemudian dikalikan dengan bobot verti kal. hasil yang didapatkan kemudian disimpan pada variab el output . 59 algoritma 3.3. image resize menggunakan bicubic interpolation input citra ukuran ğ»ğ‘Šğ¶ img ratio antara 0 hingga r parameter koefisien a 0.5 a output citra ukuran ğ»ğ‘Ÿğ‘Šğ‘Ÿğ¶ output 1 calculate dh hr dw wr h 1ratio used for calculation 2 create matrix output dimension dhdwc to store result 3 for i 0 to c do 4 for j 0 to dh do 5 for k 0 to dw do 6 calculate x i h 2 7 calculate y j h 2 8 calculate x1 1 x floorx 9 calculate x2 x flootx 10 calculate x3 floorx 1 x 11 calculate x4 flootx 2 x 12 calculate y1 1 y floory 13 calculate y2 y flooty 14 calculate y3 floory 1 y 15 calculate y4 flooty 2 y 16 create matrix mat_l dimension 14 mat_r dimension 41 h menggunakan pers 2.19 17 calculate mat_l00 hx1 mat_l01 hx2 mat_l02 hx3 mat_l03 hx4 bobot horizontal 18 calculate mat_r00 hy1 mat_l01 hy2 mat_l02 hy3 mat_l03 hy4 bobot vertical 19 create matrix mat_m dimension 44 20 mat_l00 img yy1 xx1 21 mat_l10 img yy2xx1 22 mat_l20 img yy3xx1 23 mat_l30 img yy4xx1 24 mat_l01 img yy1 xx2 25 mat_l11 img yy2xx2 26 mat_l21 img yy3xx2 27 mat_l31 img yy4xx2 28 mat_l02 img yy1 xx3 29 mat_l12 img yy2xx3 30 mat_l22 img yy3xx3 31 mat_l32 img yy4xx3 32 mat_l03 img yy1 xx4 33 mat_l13 img yy2xx4 34 mat_l23 img yy3xx4 35 mat_l33 img yy4xx4 60 36 calculate output mat_m mat_l mat_r gambar 3.11 menunjukkan hasil perubahan ukuran citra wajah menggunakan algoritma 3.3. berdasarkan gambar 3.11 ukuran dari input citra adalah 600 480 dan ratio 05. ukuran menjadi 300 240 setelah melalui proses algoritma perubahan ukuran citra . a b gambar 3.11 a citra original b citra setelah diubah ukurannya 61 3.3.3 color conversion proses konversi warna dari rgb ke grayscale menggunakan persamaan 2.2. algoritma 3.4 menujukan proses konversi ruang warna citra dari rgb ke grayscale dengan cara mengambil nilai y dari yc bcr. input dari algoritma ini adalah citra rgb yang memiliki dimensi ğ‘Šğ»ğ¶ yang diberi nama variabel img_rgb. output dari algoritma ini adalah citra grayscale yang disimpan pada variable img_gry. baris 1 dan 2 dilakukan perulangan baris dan kolom citra yang digunakan untuk menentukan koordinat citra grayscale yang akan dihitung. baris 3 dilakukan konversi citra grayscale menggunakan persamaan 2.2 di mana dilakukan penjumlahan nilai dari ketiga channel citra rgb. tiap channel memiliki bobot masing masing untuk channel r memiliki bobot 0.299 channel g memiliki bobot 0.587 dan channel b memiliki bobot 0.114. gambar 3.12 menunjukkan contoh hasil implementasi algoritma konversi warna dari rgb ke grayscale dengan menggunakan nilai y dari yc bcr. algoritma 3.4. rgb to grays cale 1 2 3 4 5 input citra rgb whc img_rgb output citra grayscale wh img_gry for i 0 to w do for j 0 to h do img_gryij 0.299img_rgbij0 0.587img_rgbij1 0.114img_rgbij2 end for end for a b gambar 3.12. sebelum a dan sesudah b konversi warna 62 3.3.4 gabor filter pada proses svm terdapat proses gabor filter sebelum diekstra ksi menggunakan lmp. pertama dilakukan pembuatan filter terlebih dahulu. algoritma 3.5 menunjukkan cara pembuatan gabor filter. input dari algoritma ini adalah sebuah citra grayscale yang memiliki ukuran ğ»ğ‘Š. kemudian jumlah filter luas kernel lambda ğœ† psi ğœ‘ sigma ğœ dan gamma ğ›¾ yang akan digunakan untuk pembuatan gabor filter . terakhir adalah threshold bawah dan threshold atas yang digunakan untuk deteksi tepi. pada baris 1 dilakukan perulangan untuk menentukan rotasi nilai theta gabor filter berdasarkan jumlah filter yang digunakan. baris 2 dilakukan pembuatan gabor filter berdasarkan persamaan 2.23 dan parameter yang di input . gambar 3.13 menunjukkan contoh gabor filter dengan total 16 filter. pada baris 4 dilakukan perulangan terhadap filter filter di mana filter filter tersebut digunakan untuk konvolusi citra pada baris 5. pada baris 7 dilakukan deteksi tepi menggunakan canny edge detection dengan param eter lower threshold dan upper threshold . algoritma 3.5. gabor filter input citra grayscale ukuran ğ»ğ‘Š img jumlah filter dari 1 hingga num_filter kernel size n n ksize lambda ğœ† lambd psi ğœ‘ psi sigma ğœ sigma gamma ğ›¾ gamma threshold bawah min_int threshold atas max_int output citra ukuran ğ»ğ‘Š output 1 for i 0 to 180 with increment 180num_filter do 2 create gabor filter filter with kernel size ksize lambda lambd theta i psi psi sigma sigma gamma gamma 3 proses konvolusi 4 for i 0 to num_filter do 5 output img filteri 6 proses deteksi tepi 7 apply canny edge detection on output with lower threshold min_int upper threshold max_int 63 perubahan nilai parameter dilakukan pada ğœ† ğ›¾ dan ğœ pada gambar 3.14 menunjukkan hasil dari pengaplikasian gabor filter di mana a menunjukkan hasil awal sebelum dilakukan parameter tuning dan b hasil akhir setelah parameter tuning . berdasarkan gambar 3.13 sebelum dilakukan perubahan nilai parameter citra memiliki banyak noise setelah dilakukan perubahan nilai parameter fitur wajah seperti alis mata hidung dan mulut terlihat. 77 ğœ†10ğœƒ11.25ğœ“0ğœ4ğ›¾ 2 a 1111 ğœ†19ğœƒ11.25ğœ“0ğœ3ğ›¾ 0.5 b gambar 3.13. gabor filter a sebelum dan b sesudah tuning parameter a b gambar 3.14. hasil algoritma gabor filter 64 3.3.5 ekstrasi fitur lmp proses ekstrasi fitur menggunakan metode lmp. algoritma 3.6 menunjukkan proses dari ekstrasi fitur lmp. input dari algoritma lmp adalah citra grayscale dengan ukuran ğ‘¤â„. parameter yang digunakan adalah pattern yang memiliki dimensi 82 yang digunakan untuk menentukan arah perhitungan tetangga. hasil dari algoritma 3.6 adalah citra lmp dengan ukuran ğ‘¤4â„ 4 ukuran citra berkurang untuk menghindari perhitungan di luar dari ukuran citra. baris 2 dan 3 dilakukan perulangan baris dan kolom citra yang digunakan untuk menentukan koordinat citra lmp yang akan dihitung. baris 4 menyimpan nilai piksel berdasarkan koordinat baris 2 dan 3. baris 5 dilakukan perulangan untuk mengambil arah dari ptn secara berurutan. baris 6 dan 7 digunakan untuk megambil nilai piksel tetangga radius pertama disimpan pada variable cur_val1 dan nilai piksel tetangga radius kedua disi mpan pada variable cur_val2. baris 9 dilakukan perbandingan nilai tengah ctr_val dengan nilai tetangga radius pertama cur_val1 berdasarkan 2.22. baris 14 dilakukan perbandingan nilai tetangga radius pertama dengan nilai teta ngga radius kedua cur_val2 berdasarkan persamaan 2.21. kemudian dilakukan perhitungan nilai lmp menggunakan persamaan 2.20. gambar 3.15 menunjukkan contoh hasil implementasi algoritma lmp pada citra wajah. algoritma 3.6. local monotonic pattern input citra grayscale wh img_gry parameter pattern ptn 0111101 101111011 output citra lmp wh img_lmp 1 for i 2 to w2 do 2 for j 2 to h2 do 3 ctr_val img_gryij 4 for p 0 to 7 do 5 cur_val1 img_gryxptnp0yptnp1 6 cur_val2 img_gryxptnp02 yptnp12 7 pers 2.20 8 if cur_val1 ctr_val 0 do 9 s1 1 10 else 11 s1 0 65 12 pers 2.19 13 if cur_val2 cur_val1 0 do 14 s2 1 15 else 16 s2 0 17 pers 2.18 18 img_lmpij img_lmp s1 s2 2p 19 end for 20 end for 21 end for 22 return img_lmp a b gambar 3.15. sebelum a dan sesudah b ekstrasi fitur lmp 66 3.4 pembentukan model 3.4.1 pembentukan model svm dalam penelitian sebelumnya robert 2023 telah dilakukan pengenalan ekspresi wajah menggunakan svm dengan menggunakan 4 kernel yaitu linear polynomial sigmoid dan rbf. pada penelitian tersebut dataset tfeid yang digunakan untuk melatih dan menguji model. dataset tfeid memiliki keterbatasan dalam jumlah dan variasi etnis di mana hanya terdapat 1 etnis saja yaitu orang taiwan. berdasarkan dari penelitian robert 2023 didapatkan model terbaik untuk mengenal ekspresi wajah adalah menggunakan kernel sigmoid. pada penelitian ini akan dilakukan pengujian ulang svm dengan dataset gabungan berdasarkan usulan . terdapat 4 kernel yang akan digunakan untuk model svm dalam penelitian ini yaitu linear polynomial sigmoid dan rbf. persamaan 2.29 2.30 2.31 2.32menunjukkan persamaan dari keempat kernel yang digunakan secara berurutan. selain kernel terdapat parameter yang juga akan dikonfigurasi yaitu c. terdapat beberapa nilai c berada diantara 0 hingga 100. 3.4.2 pembentukan model cnn dalam penelitian sebelumnya robert 2023 model cnn yang digunakan adalah mobilenetv2 yang merupakan pretrained model . penelitian tersebut menggunakan dataset tfeid yang memiliki keterbatasan baik dalam jumlah maupun variasi dari etnis ekspresi wajah manusia. oleh karena itu dalam penelitian ini akan dilakukan pelatihan dan pengujian ulang menggunakan dataset gabungan sesuai dengan usulan yang telah diuraikan sebelumnya. tabel 3.2 menunjukkan arsitektur mobilenetv2 dari konvolusi layer pertama hingga output layer . kolom pertama menunjukkan tipe dari layer dan juga stride yang digunakan . kolom kedua menu njukan ukuran filter dan jumlah filter . kolom terakhir menunjukkan ukuran masukan citra dari layer sebelumnya. fungsi aktivasi activation function pada output layer adalah softmax selain itu model juga dilakukan parameter tuning pada learning rate batch size dan fungsi aktivasi pada fclayer saat d ilakukan proses pelatihan . 67 tabel 3.2. arsitektur mobilenetv2 typestride filter shape input size conv 2 33332 1601603 conv dw 1 3332 dw 11211232 conv 1 113264 11211232 conv dw 2 3364 dw 11211264 conv 1 1164128 565664 conv dw 1 33128 dw 5656128 conv 1 11128128 5656128 conv dw 2 33128 dw 56x56x128 conv 1 11128256 2828128 conv dw 1 33256 dw 2828256 conv 1 11256256 2828256 conv dw 2 33256 dw 2828256 5 conv dw 1 33512 dw 1414512 conv 1 11512512 1414512 conv dw 2 33512 dw 1414512 conv 1 115121024 77512 conv dw 2 331024 dw 771024 conv 1 111024 1024 771024 avg pool 1 pool 7 7 771024 fc 1 1024 7 111024 softmax 1 classifier 117 68 3.4.3 pembentukan model mnn gambar 3.16 menunjukan alur dari pembentukan mnn. p ertama dilakukan penentuan se yang digunakan. dalam penelitian ini akan digunakan bentuk se berdasarkan penelitian lain shen et al. 2019 dan se yang diusulkan pada penelitian ini. selanjutnya dilakukan penentuan operasi morfologi pertama akan digunakan operasi morfologi yang telah dilakukan peneliti lain dan juga operasi morfologi usulan pada penelitian ini. kemudian dilakukan uji coba analisis dan dibandingkan pada semua operasi morfologi dan se yang diusulkan pada penelitian ini. terakhir dilakukan perancangan arsitektur mnn berdasarkan dari analisis dari tahap ketiga. gambar 3.16. proses pembentukan model 3.4.3.1 ekstrasi fitur 3.4.3.1.1 penentuan structure element dalam penelitian ini digunakan dua se dan tiga operasi morfologi yang dibandingkan satu dengan yang lain. gambar 3.17 menunjukkan se bentuk beserta ukuran yang digunakan untuk operasi morfologi. terdapat dua bentuk se yang digunakan yaitu disk dan kotak. terdapat empat ukuran se yang digunakan yaitu 33 55 99 dan 15 15 ukuran digunakan untuk kedua bentuk. di mana kotak berwarna putih bernilai 1 dan hitam adalah 0. 69 disk 33 disk 55 disk 77 disk 99 disk 1515 kotak 33 kotak 55 kotak 77 kotak 99 kotak 1515 gambar 3.17. struktur element yang digunakan 3.4.3.1.2 penentuan operasi morfologi tahap setelah penentuan bentuk dan juga ukuran se yang akan digunakan adalah penentuan operasi morfologi yang digunakan. terdapat tiga operasi yang digunakan dalam penelitian ini. operasi p ertama adalah operasi morgologi opening pada citra original kemudian dilakukan pengurangan nilai piksel antara citra original dengan hasil opening operasi opening itu sendiri adalah operasi erosi yang dilanjutkan operasi dilasi. operasi k edua adalah erosi pada citra original kemudian dilakukan pengurangan citra original terhadap ha sil erosi. ketiga adalah dilasi pada citra original kemudian dilakukan pengurangan hasil dilasi terhadap citra original . ketiga operasi tersebut menggunakan algoritma 3.7 algoritma 3.8 dan algoritma 3.9 secara berurutan. 70 algoritma 3.7. gradien morfologi opening 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 input image grayscale image wh structure element se nn output feature image output w2h2 start for i 0 to w do for j 0 to h do create empty list arr for h 0 to z do for w 0 to z do if sehw 1 do arr appendimageih spacejh space end if end for end for outputispacejspace minarr end for end for for i 0 to w do for j 0 to h do create empty list arr for h 0 to z do for w 0 to z do if sehw 1 do arr appendimageih spacejh space end if end for end for outputispacejspace maxarr end for end for for i to w do for j to h do outputij imageij outputij end for end for pada algoritma 3.7. terdapat dua input yang digunakan pertama adalah citra original dengan ukuran ğ‘Š ğ». kedua adalah structure element dengan ukuran ğ‘ ğ‘. hasil dari algoritma ini adalah sebuah fitur dalam bentuk citra dengan ukuran ğ‘Š ğ». pada baris pertama dilakukan perhitungan space yang digunakan untuk menentukan koordinat mulai operasi opening . baris 2 dan 3 dilakukan perulangan baris dan kolom citra yang digunakan untuk menentukan koordinat operasi opening . baris 4 digunakan untuk menyimpan kandidat nilai 71 piksel pada baris 5 hingga 11. baris 12 dilakukan pengambilan nilai terkecil yang digunakan untuk sebagai hasil fitur citra berdasarkan persamaan . kemudian baris 15 dan 16 dilakukan perulangan baris dan kolom citra untuk menentukan koordinat operasi opening . baris 17 digunakan untuk menyimpan kandidat nilai piksel pada baris 18 hingga 24. baris 25 dilakukan pengambilan nilai terbesar yang digunakan untuk sebagai hasil fitur citra berdasarkan persamaan 2.14. kemudian pada baris 28 dan 29 dilakukan perulangan kembali pada baris dan kolom citra untuk menentukan koordinat perhitungan. baris 30 dilakukan pengurangan antara citra original dengan citra opening . algoritma 3.8. gradien morfologi erosi 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 input image grayscale image w h structure element se n n output feature image output w2 h2 for i 0 to w do for j 0 to h do create empty list arr for h 0 to z do for w 0 to z do if sehw 1 do arr appendimageih spacejh space end if end for end for outputispacejspace minarr end for end for for i to w do for j to h do outputij imageij outputij end for end for 72 pada algoritma 3.8. terdapat dua input yang digunakan pertama adalah citra original dengan ukuran ğ‘Š ğ». kedua adalah structure element dengan ukuran ğ‘ ğ‘. hasil dari algoritma ini adalah sebuah fitur dalam bentuk citra dengan ukuran ğ‘Š ğ». pada baris pertama dilakukan perhitungan space yang digunakan untuk menentukan koordinat mulai operasi opening . baris 1 dan 2 dilakukan perulangan baris dan kolom citra yang digunakan untuk menentukan koordinat operasi opening . baris 3 digunakan untuk menyimpan kandidat nilai piksel pada baris 4 hingga 10. baris 11 dilakukan pengambilan nilai terkecil yang digunakan untuk sebagai hasil fitur citra berdasarkan persamaan 2.10. kemudian pada baris 14 dan 15 dilakukan perulangan kembali pada baris dan kolom citra untuk menentukan koordinat perhitungan. baris 16 dilakukan pengurangan antara citra original dengan citra opening . algoritma 3.9. gradien morfologi dilasi 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 input image grayscale image w h structure element se n n output feature image output w2 h2 for i 0 to w do for j 0 to h do create empty list arr for h 0 to z do for w 0 to z do if sehw 1 do arr appendimageih spacejh space end if end for end for outputispacejspace maxarr end for end for for i to w do for j to h do outputij imageij outputij end for end for 73 pada algoritma 3.9. terdapat dua input yang digunakan pertama adalah citra original dengan ukuran ğ‘Š ğ». kedua adalah structure element dengan ukuran ğ‘ ğ‘. hasil dari algoritma ini adalah sebuah fitur dalam bentuk citra dengan ukuran ğ‘Š ğ». baris 1 dan 2 dilakukan perulangan baris dan kolom citra yang digunakan untuk menentukan koordinat operasi dilasi. baris 3 digunakan untuk menyimpan kandidat nilai piksel pada baris 4 hingga 10. baris 11 dilakukan pengambilan nilai terbesar yang digunakan untuk sebagai hasil fitur citra berdasarkan persamaan 2.8. kemudian pada baris 14 dan 15 dilakukan perulangan kembali pada baris dan kolom citra untuk menentukan koordinat perhitungan. baris 16 dilakukan pengurangan antara citra dilasi dengan citra original. 74 3.4.3.1.3 percobaan dan perbandingan hasil operasi morfologi tabel 3.2 menunjukkan hasil operasi morfologi menggunakan se berdasarkan 3.4.3.1 dan 3.4.3.2. pada operasi morfologi tabel 3.2. digunakan citra yang memiliki objek persegi panjang berwarna putih . di mana putih pada citra bernilai 1 sedangkan hitam adalah 0. tabel 3.3. operasi morfologi dan structure element pada persegi panjang original image se operasi operasi dan hasil disk original opening 33 55 77 99 1515 75 disk original erosi 33 55 7x7 99 1515 disk dilasi original 33 55 77 99 1515 kotak original opening 33 55 77 99 1515 76 kotak original erosi 33 55 77 99 1515 kotak dilasi original 33 55 77 99 1515 berdasarkan dari tabel 3.3 dapat dilihat operasi gmo dengan se disk 33 menghasilkan corner pada persegi panjang. operasi gmd dengan se disk 33 memiliki hasil garis berbentuk persegi panjang dengan nilai tiap corner terdapat hilang . operasi gme dengan disk 33 mirip dengan gmd dengan se disk 33 namun corner dari gme utuh . operasi gm o menggunakan se kotak 3 3 tidak dapat mengekstrasi fitur dari persegi. operasi gmd dengan se kotak 33 menghasilkan garis yang berbentuk persegi panja ng. gme dengan se kotak 33 memiliki hasil yang mirip dengan gmd namun memiliki luas yang berbeda. pada gmd garis terlelak pada luar objek sedangkan gme berada pada dalam objek. 77 kemudian dilakukan operasi menggunakan 3 ukuran se lain yaitu 5 5 77 99 dan 1515. dari hasil yang didapatkan tiap ukuran memiliki hasil yang mirip dengan operasi yang digunakan. gmo mengekstrasi tiap sudut pada persegi dengan perbedaan pada ukuran sudut di mana semakin besar se semakin besar sudut yang didapatkan. gmd dapat mengkestrasi tepi dari persegi di mana semakin besar ukuran se semakin tebal garis yang didapatkan. gme dapat mengekstrasi tepi dari persegi di mana semakin besar ukuran se sem akin tebal garis yang didapatkan. operasi gmd dan gme memiliki hasil yang mirip dengan perbedaan tepi pada gmd menebal kearah luar persegi sedangkan tepi pada gme menebal kearah dalam. 78 tabel 3.4 merupakan hasil morfologi menggunakan citra wajah dengan warna grayscale . nilai intensitas piksel pada citra berkisaran antara 0 hingga 255. operasi morfologi dan se yang digunakan berdasarkan usulan pada subbab 3.4.3.1 dan 3.4.3.2. tabel 3.4. structure element dan operasi morfologi pada wajah citra original se operasi operasi dan hasil disk gmo 33 55 77 99 1515 79 disk gme 33 55 77 99 1515 disk gmd 33 55 77 99 1515 80 kotak gmo 33 55 77 99 1515 kotak gme 33 55 77 99 1515 berdasarkan tabel 3.4 dapat dilihat hasil ekstrasi fitur menggunakan berbagai kom binasi dua bentuk dan lima ukuran . pertama dilakukan ekstrasi fitur menggunakan se ukuran 3 3 terhadap semua bentuk se dan operasi. se disk 33 dengan operasi gmo fitur tidak terlihat. se disk 33 dengan operasi gme atau gmd fitur terlihat namun tidak jelas. se kotak 3 3 dengan operasi gmo fitur juga tidak terlihat. se kotak 3 3 dengan operasi gme atau gmd fitur sedikit terlihat dan tidak memiliki perbedaan secara kasat mata. 81 kemudian dilakukan menggunakan se ukuran 5 5. se disk 55 dengan operasi gmo terdapat sangat sedikit fitur yang didapatka n yaitu pada bagian mata . se disk 55 dengan operasi gme atau gmd fitur lebih jelas terlihat dan terdapat perbedaan di mana operasi gme tepi pada bagian mata dengan bola mata tergabun g sedangkan gmd tidak. selain itu luas lubang hidung dan mulut juga lebih besar pada operasi gme dibandingkan operasi gmd. se kotak 5 5 juga memiliki hasil yang sama dengan disk 55 dengan perbedaan yang tid ak dapat dilihat kasat mata. kemudian dilakukan operasi menggunakan se ukuran 7 7. se disk 77 dengan operasi gmo terdapat sangat sedikit fitur yang didapatka n yaitu pada bagian mata. se disk 77 dengan operasi gme atau gmd fitur lebih jelas terlihat dan terdapat perbedaan di mana operasi gme tepi pada bagian mata dengan bola mata tergabun g sedangkan gmd tidak. selain itu luas lubang hidung dan mulut juga lebih besar pada operasi gme dibandingkan operasi gmd. se kotak 7 7 juga memiliki hasil yang sama dengan disk 77 dengan perbedaan yang tidak dapat dilihat kasat mata. pada operasi menggunakan se ukuran 9 9. se disk 99 dengan operasi gmo fitur yang didapatkan tidak akurat karena tidak mengekstrasi tepi bentuk dari ekspresi wajah. se disk 99 dengan operasi gme dan gmd memiliki fitur yang mirip dengan se 5 5 di mana operasi gme tepi pada bagian mata tergabung sedangkan gmd tidak. selain itu luas pada lubang hidung dan mulut juga lebih luas dibandingkan dengan se 5 5 dan memiliki garis tepi yang lebih tebal. se kotak 9 9 dengan operasi gmo fitur yang didapatkan mirip dengan disk 99 dengan operasi gmo namun memiliki fitur yang lebih jelas terlihat. se kotak 9 9 dengan operasi 9 9 gme fitur yang didapatkan terlihat dengan jelas dan mirip dengan hasil yang menggunakan se disk 99 dengan operasi gme. namun terdapat perbedaan fitur yang signifikan pada bagian hidung di mana bentuk dari hidung sedikit berubah menjadi sedikit kotak. se kotak 9 9 dengan operasi gmd hasil yang didapatkan hampir sama dengan hasil yang menggunakan se disk 99 dengan operasi gmd hanya terdapat perbedaan pada tebal garis pada hidung. 82 operasi menggunakan se 15 15 hasil yang didapatkan memiliki pola yang sama dengan operasi yang menggunakan se 9 9. se disk atau kotak 15 15 dengan operasi gmo fitur lebih terlihat jelas dibandingkan dengan ukuran 9 9. se disk atau kotak 15 15 dengan operasi gme fitur lebih tebal namun untuk se kotak bagian hidung menjadi lebih kotak dari ukuran sebelumnya. berdasarkan dari hasil yang didapatkan dan analisis. se disk 55 atau kotak 55 dengan operasi gmd memiliki hasil terbaik. tepi pada bagian mata tergabung bagian mulut tidak menjadi lebih luas . namun pada bagian hidung menjadi lebih kecil dibandingkan citra original . selain itu operasi menggunakan gme dengan se disk 55 atau kotak 5 5 juga memberikan hasil yang baik. tepi dari tiap komponen wajah terlihat namun tepi pada mata dan bola mata tergabung namun memberikan hasil ekstrasi fitur bagian hidung lebih baik dibandingkan gmd. karena luas hidung lebih sesuai pada gme dibandingkan gmd. 83 3.4.3.2 pembentukan dan pelatihan model gambar 3.18 menunjukkan arsitektur dari mnn secara garis besar. di mana terdapat 5 layer utama yang memiliki tugas masing masing. di mana terdapat beberapa variasi arsitektur variasi pertama terdapat pada morphology layer di mana akan digunakan dua jenis ekstrasi fitur berdasarkan pada hasil subbab 3.4.3.3. variasi kedua terdaoat pada hidden layer di mana akan digunakan beberapa kombinasi fullyconnected layer . gambar 3.18. model mnn yang diusulkan input layer adalah layer pertama dari model mnn yang bertugas untuk menerima input berupa citra. di mana dimensi dari intput layer itu sendiri sesuai dengan ukuran citra pada dataset yaitu 160 160. kedua adalah morphology layer . menerima masukan dari input layer kemudian dilakukan proses morfologi. terdapat dua jenis morfologi layer yang akan digunakan. morfolog y layer pertama adalah dilation layer kemudian subtraction layer . di mana lapisan morfologi jenis pertama menggunakan hasil terbaik dari operasi morfologi dilasi pada subbab 3.4.3.3. morphology layer jenis kedua adalah erosion layer dilanjutkan subtraction layer . di mana lapisan morfologi jenis kedua ini menggunakan hasil terbaik dari operasi m orfologi erosi pada subab 3.4.3.3. 84 lapisan ketiga adalah flatten layer lapisan yang bertugas mengubah citra menajadi feature vector. masukan dari lapisan ini adalah hasil dari subtraction layer pada lapisan morfologi. di mana hasil dari subtraction layer adalah citra dengan ukuran 160160 yang kemudian diubah mnejadi satu dimensi yaitu 25600. lapisan keempat adalah fully connected layer fc layer yang bertugas untuk mempelajari dan menganalisa nilai feature vector dari flatten layer . pada lapisan ini dilakukan beberapa konfigurasi fc layer mulai dari jumlah fc layer dan jumlah neuron pada fc layer . konfigurasi pertama akan diuji coba 2 fc layer dengan masing masing neuron adalah 512 dan 25 6. konfigurasi kedua akan dicoba 1024 dan 512. kemudian dari situ akan dicoba analisis mana yang lebih baik sehingga dapat dikonfigurasi lebih lanjut. jika konfigurasi pertama memiliki hasil lebih baik artinya memungkinkan fc layer untuk dibuat lebih sederhana dengan mengurangi jumlah neuron . jika konfigurasi kedua lebih baik artinya terdapat kemungkinan untuk meninkatkan performa dari model karena dataset memiliki kompleksitas tinggi . beberapa lapisan akan dilakukan tuning paramter. tuning pertama terdapat pada bentuk se ukuran se jenis operasi pada morphological layer . tuning kedua terdapat pada fclayer yaitu fungsi aktivasi relusigmoidtanh dan jumlah neuron pada tiap hidden layer. selain arsitektur pada proses pelatihan juga dilakukan tuning pada learning rate jumlah epoch dan batch size. terakhir adalah output layer merupakan penentuan dari ekspresi berdasarkan dari bobot hidden layer . di mana fungsi aktivasi yang digunakan untuk output layer adalah softmax yang artinya output berupa probabilitas dari tiap ekspresi. kemudian untuk loss function yang akan digunakan adalah categorical crossentropy di mana fungsi loss ini digunakan jika model memprediksi multi kelas multi class prediction . 